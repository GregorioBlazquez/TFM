# Project Overview

## 🎓 Context

This project is part of the Master’s Thesis (TFM) of **Gregorio Blázquez Martínez** for the **Máster Big Data, Data Science & Artificial Intelligence 2024-2025** at the **Universidad Complutense de Madrid**.  

The TFM integrates many of the tools and methods studied during the master’s program while going beyond in areas such as Python programming, GNU/Linux and GIT for collaborative development, data mining and predictive modeling, machine learning techniques, time series forecasting with ARIMA, and Artificial Intelligence through the introduction to Natural Language Processing (NLP). It also explores the deployment and productivization of models as well as the use of Big Data technologies and Cloud environments.

---

## 🎯 Objective

The goal is to explore how **Artificial Intelligence can help analyze, explain, and forecast tourism trends in Spain**, by combining:

- **Predictive modeling** (time series forecasting with ARIMA, clustering, expenditure regression).  
- **Retrieval-Augmented Generation (RAG)** using official **INE documents** (FRONTUR, EGATUR) and additional tourism datasets.  
- **Multi-agent orchestration** with **MCP server + client**.  
- **Interactive user interface** (chatbot-style frontend).  

---

## 🏗 Architecture

The system follows a **client-server architecture** enhanced with the Model Context Protocol (MCP):  

- **MCP Server**  
  - Exposes tools, prompts, and resources for clients.  
  - Includes subservers:
    - **Prediction server** → ARIMA-based forecasts of tourist arrivals.  
    - **RAG server** → retrieval of official reports and summaries.  
    - **Report server** → generation of structured outputs and insights.  

- **Client (multi-agent orchestrator)**  
  - Connects to MCP server and coordinates which tool to use.  
  - Decides dynamically between **RAG** (document queries) and **predictive models**.  
  - Provides the **frontend** (FastAPI + chat interface).  

- **Inspector**  
  - Debugging and monitoring tool for MCP.  
  - Connects to MCP server to visualize interactions.  

👉 **Important**: The **client** is the orchestrator. The **server** only makes tools available.  

---

## 📊 Data & Models

- **INE official data**  
  - FRONTUR (tourist arrivals).  
  - EGATUR (tourist expenditure).  

- **Models**  
  - **ARIMA** → forecasting tourist arrivals per region.  
  - **Clustering** → segmenting tourist profiles.  
  - **Expenditure regression** → predicting daily average expenditure + SHAP interpretability.  

- **Storage**  
  - Preprocessed datasets under `/data/processed/`.  
  - Models under `/models/` (ARIMA, clustering, expenditure).  

---

## ☁️ Deployment

The system supports both **local** and **cloud-based** deployment:

- **Local**  
  - Run with Python 3.11.  
  - Launch MCP server and client manually, or via **Docker Compose**.  
  - Inspector available via NPM (`npx @modelcontextprotocol/inspector`).  

- **Docker**  
  - Images published to **DockerHub**:
    - `gregorioblazquezm/mcp-server:latest`  
    - `gregorioblazquezm/client:latest`  
  - Also pushed to **Azure Container Registry (ACR)** for cloud deployment.  

- **Azure**  
  - Deployed as **Azure Container Instances (ACI)** using YAML manifests.  
  - Separate container groups for **server**, **client**, and **inspector**.  
  - Accessible via public IPs (configured per deployment).  

---

## 🔍 Usage Scenarios

The assistant can handle two main categories of queries:

- **Document-based (RAG)**  
  - Example: *“Summarize the last FRONTUR report”*  
  - Example: *“What is the average expenditure according to EGATUR?”*  

- **Prediction-based (Models)**  
  - Example: *“How many tourists are expected in Spain in August 2025?”*  
  - Example: *“Predict the average daily expenditure of a russian tourist who travels for holydays five days to Andalucia in srping and stays in a hotel.”*  

The **client orchestrator** decides whether to query RAG or predictive models.  

---

## ⚠️ Trust & Limitations

- **Official numbers** (INE FRONTUR, EGATUR reports) are retrieved directly and can be trusted.  
- **Predictions and explanations** are generated by trained models. These are **estimates**, not official figures.  
- Interpretability is supported through **SHAP values** for expenditure models.  

---

## 🧭 Navigation

- [🏠 Main index](../README.md#documentation)
- [➡️ Next: Setup](/02_setup.md)

